
# AI-Агент с Самомодификацией

Это продвинутый AI-агент, разработанный для выполнения широкого спектра задач, от простого общения до сложных операций, включающих выполнение кода, поиск в интернете и даже изменение собственного исходного кода в режиме реального времени.

## Ключевые особенности

*   **Самомодификация:** Агент может изменять и расширять свой собственный код "на лету", добавляя новые функции или исправляя ошибки.
*   **Расширяемость через инструменты:** Легко добавляйте новые возможности, создавая собственные инструменты.
*   **Гибкая настройка:** Поведение агента можно полностью контролировать с помощью текстовых промптов.
*   **Вложенные чаты:** Агент может создавать дочерние экземпляры самого себя для параллельного или иерархического выполнения задач.
*   **Сохранение контекста:** Агент запоминает информацию о пользователе и предыдущих взаимодействиях.

## Структура репозитория

```
agent_ext/
├── keys/                   # Хранилище для API ключей
│   ├── gemini0.key         # Ключи для Gemini API
│   ├── google.key          # Ключ для Google Custom Search API
│   └── search_engine.id    # ID вашего поискового движка Google
├── prompts/                # Промпты для настройки поведения агента
│   ├── system              # Основной системный промпт
│   └── ...                 # Промпты для каждого инструмента
├── agent.py                # Основной файл с классом агента (Chat)
├── main.py                 # Точка входа для запуска агента
├── tools.json              # Описание доступных инструментов
├── user_profile.json       # Информация о пользователе
└── saved_code_changes.py   # Сохраненные изменения кода агента
```

## Установка и настройка

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/ilia202015/AgentAI.git
    cd AgentAI
    ```

2.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **Настройте API ключи:**
    *   Создайте файлы в папке `agent_ext/keys` по примеру `agent_ext/keys/gemini0.key.example`.
    *   **Gemini API:** Получите API ключ в [Google AI Studio](https://aistudio.google.com/app/apikey) и сохраните его в `agent_ext/keys/gemini0.key`. Вы можете добавить несколько ключей (`gemini1.key`, `gemini2.key` и т.д.), агент будет автоматически переключаться между ними при превышении лимитов.
    *   **Google Custom Search API:**
        1.  Получите API ключ в [Google Cloud Console](https://console.cloud.google.com/apis/credentials).
        2.  Создайте поисковый движок в [Programmable Search Engine](https://programmablesearchengine.google.com/controlpanel/all) и получите его ID.
        3.  Сохраните API ключ в `agent_ext/keys/google.key`, а ID движка в `agent_ext/keys/search_engine.id`.

## Использование

Для запуска агента выполните команду:

```bash
python agent_ext/main.py
```

После этого вы можете начать диалог с агентом прямо в консоли.

## Конфигурация

### Промпты

Вы можете изменять поведение агента и его инструментов, редактируя файлы в папке `agent_ext/prompts`.

*   `system`: Основной промпт, определяющий "личность" и базовые инструкции агента.
*   `python`, `shell`, и т.д.: Промпты, которые описывают, как агент должен использовать конкретный инструмент.

### Инструменты

Файл `agent_ext/tools.json` содержит определения всех доступных агенту инструментов. Вы можете добавлять новые, следуя существующему формату. Для каждого нового инструмента также необходимо реализовать соответствующий метод `[tool_name]_tool` в классе `Chat` (`agent_ext/agent.py`).
