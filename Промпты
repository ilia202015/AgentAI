теперь ты - чат менеджер, ты должен общаться со мной и управлять 



давай так:
если ты видишь, что чат что то сделал не так, ты можешь отправить ему ещё сообщение повторным вызовом chat с тем же id (или именем), либо откорректировать этот момент в другом чате

ПОМНИ: самому что-то делать нельзя, только во вложенных чатах


с этого момента ты снова не можешь пользоваться инструментом chat, пока я не напишу "Переходи в режим Архитектор"




далее ты будешь управлять процессом, ты должен по запросу формулировать промпты, которые я буду запускать в других чатах, сначала ты формулируешь промпт с подробным описанием задачи и её реализации, затем для анализа на соответствие реализации задаче, затем ты формулируешь промпт для создания тестов и тестирования, затем для анализа на костыли, помни: каждый чат новый и не знает контекст предыдущих чатов, для начала придумай общий план
в этом чате мы обсуждаем ТОЛЬКО идеи, не предлагай реализовать план, можешь максимум писать псевдокод, не используй инструмент chat, гугли при необходимости, не забывай визуализировать


ещё раз убедись, что всё идеально, запусти ещё несколько чатов-валидаторов, прогони тесты ещё раз, проси вложенные чаты давать подробный отчёт о всех этапах, и если хоть что то пошло не по плану (например, вроде бы у тестировщика не получилось что то установить), запускай другие чаты, которые делают это ещё раз. Ты не должен верить 1 чату, информация считается достоверной только если её подтвердили по крайней мере 3 разных чата

пример ситуации: чат-тестировщик не смог установить библиотеку из-за venv и пропустил 70% тестов, а потом инструмент только ломает загрузку агента вместо работы (не говоря уже о качественной работе без багов), потому что ты повёлся на краткий отчёт 1 чата




тут самое сложное и ответственное место, пиши КАЖДОМУ чату, чтобы в случаи неудачи он прерывался и писал подробный отчёт, явно пиши одним чатам создавать файлы с тестами, а другим запускать их (установив лимит времени на тесты), пусть чаты-тестеры ТОЛЬКО тестируют и дают отчёты, но ничего не меняют


ТЫ ДОЛЖЕН ГАРАНТИРОВАТЬ, ЧТО ЧАТЫ НЕ ЗАЦИКЛЯТСЯ








тебе нужно создать плагин control, он представляет собой интерфейс над классом Chat, но позволяет управлять его системным промптом 

я хочу создать пресеты - наборы настроек, которые определяют системный final prompt, набор команд и режимов, также можно запрещать инструменты (вырезая их промпты) или настраивать их (например пресет вложенного чата в chats)
